---
api_version: v1alpha1
groups:
  - name: Master Node
    profile: k8s-master
    require:
      uuid: 16e7d8a7-bfa9-428b-9117-363341bb330b
    metadata:
      ipv4_address: 172.15.0.21
      pxe: "true"
      networkd_name: ens3
      networkd_gateway: 172.15.0.1
      networkd_dns: 172.15.0.3
      networkd_address: 172.15.0.21/16
      k8s_version: v1.1.8_coreos.0
      k8s_etcd_endpoints: "http://172.15.0.21:2379,http://172.15.0.22:2379,http://172.15.0.23:2379"
      k8s_pod_network: 10.2.0.0/16
      k8s_service_ip_range: 10.3.0.0/24
      k8s_service_ip: 10.3.0.1
      k8s_dns_service_ip: 10.3.0.10
      k8s_cert_endpoint: http://bootcfg.foo:8080/assets
      fleet_metadata: "role=etcd,name=node1"
      etcd_name: node1
      etcd_initial_cluster: "node1=http://172.15.0.21:2380,node2=http://172.15.0.22:2380,node3=http://172.15.0.23:2380"
      ssh_authorized_keys:

  - name: Worker 1
    profile: k8s-worker
    require:
      uuid: 264cd073-ca62-44b3-98c0-50aad5b5f819
    metadata:
      ipv4_address: 172.15.0.22
      pxe: "true"
      networkd_name: ens3
      networkd_gateway: 172.15.0.1
      networkd_dns: 172.15.0.3
      networkd_address: 172.15.0.22/16
      k8s_version: v1.1.8_coreos.0
      k8s_etcd_endpoints: "http://172.15.0.21:2379,http://172.15.0.22:2379,http://172.15.0.23:2379"
      k8s_controller_endpoint: https://172.15.0.21
      k8s_dns_service_ip: 10.3.0.1
      k8s_cert_endpoint: http://bootcfg.foo:8080/assets
      fleet_metadata: "role=etcd,name=node2"
      etcd_name: node2
      etcd_initial_cluster: "node1=http://172.15.0.21:2380,node2=http://172.15.0.22:2380,node3=http://172.15.0.23:2380"
      ssh_authorized_keys:

  - name: Worker 2
    profile: k8s-worker
    require:
      uuid: 39d2e747-2648-4d68-ae92-bbc70b245055
    metadata:
      ipv4_address: 172.15.0.23
      pxe: "true"
      networkd_name: ens3
      networkd_gateway: 172.15.0.1
      networkd_dns: 172.15.0.3
      networkd_address: 172.15.0.23/16
      k8s_version: v1.1.8_coreos.0
      k8s_etcd_endpoints: "http://172.15.0.21:2379,http://172.15.0.22:2379,http://172.15.0.23:2379"
      k8s_controller_endpoint: https://172.15.0.21
      k8s_dns_service_ip: 10.3.0.1
      k8s_cert_endpoint: http://bootcfg.foo:8080/assets
      fleet_metadata: "role=etcd,name=node3"
      etcd_name: node3
      etcd_initial_cluster: "node1=http://172.15.0.21:2380,node2=http://172.15.0.22:2380,node3=http://172.15.0.23:2380"
      ssh_authorized_keys: